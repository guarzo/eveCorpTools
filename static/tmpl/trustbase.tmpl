{{ define "base" }}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ .Title }}</title>
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">

    <!-- TailWind CSS -->
    <link rel="stylesheet" href="/static/css/main.css">

    <!-- Other CSS dependencies -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/tabulator-tables@6.3.0/dist/css/tabulator.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />

    <!-- JavaScript dependencies -->
    <script src="https://unpkg.com/tabulator-tables@6.3.0/dist/js/tabulator.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body class="bg-gray-900 text-gray-200 font-sans min-h-screen flex flex-col">
    <div id="loading-indicator" class="fixed inset-0 bg-gray-800 bg-opacity-75 items-center justify-center z-50 hidden" aria-live="polite" aria-label="Loading" role="status">
        <div class="w-16 h-16 border-4 border-t-4 border-teal-500 flex rounded-full animate-spin-slow"></div>
        <div id="progress-container" class="absolute bottom-10 w-3/4 bg-gray-700 rounded">
            <div id="progress-bar" class="bg-teal-500 h-4 rounded"></div>
        </div>
    </div>


    <div class="flex flex-col flex-grow">
        <!-- Header -->
        <header class="bg-teal-700 text-yellow-400 py-6">
            <div class="container mx-auto flex items-center justify-between px-4">
                <div class="flex items-center space-x-2">
                    <!-- Add Character Button -->
                    <a href="/auth-character" class="bg-teal-500 hover:bg-teal-600 text-gray-900 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-yellow-400" title="Add Character" aria-label="Add Character">
                        <i class="fas fa-user-plus"></i>
                    </a>

                    <!-- Write Contacts for All Button -->
                    <button id="write-contacts-all-btn"
                            class="bg-teal-500 hover:bg-teal-600 text-gray-900 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-yellow-400 relative"
                            title="Write Contacts for All"
                            aria-label="Write Contacts for All"
                            disabled
                            aria-disabled="true">
                        <i class="fas fa-pen"></i>
                        <!-- Progress Bar -->
                        <div id="write-all-progress-bar" class="absolute bottom-0 left-0 h-1 bg-yellow-400 w-0 transition-width duration-300"></div>
                    </button>
                </div>

                <h1 class="text-3xl font-bold">{{ .Title }}</h1>
                <div class="flex items-center space-x-2 text-xl">
                    {{ if .LoggedIn }}
                        <button id="toggle-contacts-btn" class="bg-teal-500 hover:bg-teal-600 text-gray-900 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-yellow-400" title="Show Contacts to Delete" aria-label="Toggle Contacts">
                            <i class="fas fa-toggle-on"></i>
                        </button>
                        <a href="/logout" class="bg-teal-500 hover:bg-teal-600 text-gray-900 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-yellow-400" title="Logout" aria-label="Logout">
                            <i class="fas fa-sign-out-alt"></i>
                        </a>
                    {{ end }}
                </div>
            </div>
        </header>
        <!-- Main Content -->
        <main class="flex-grow container mx-auto px-4 py-6">
            {{ block "content" . }}{{ end }}
        </main>

        <!-- Footer -->
        <footer class="bg-teal-700 text-yellow-400 py-6"> <!-- Increased padding and text size -->
            <div class="container mx-auto text-center">
                <p class="text-xl font-semibold"> <!-- Increased text size -->
                    Designed for <img src="/static/images/new_logo.png" alt="Zoolanders Logo" class="inline-block h-10 ml-2">
                </p>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="/static/js/trust.js" defer></script>
</body>
</html>
{{ end }}
